curl -X POST -H "Content-Type: application/json" -d '{"email": "admin@example.com", "password": "AdminPass123"}' http://localhost:3000/auth/signin

curl -X GET -H "Authorization: Bearer [ここに取得したトークンを貼り付け]" http://localhost:3000/api/users
例　 curl -X GET -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBleGFtcGxlLmNvbSIsIm5hbWUiOiJBZG1pbiBVc2VyIiwiaXNBZG1pbiI6dHJ1ZSwiaWF0IjoxNzU1NTQzODMxLCJleHAiOjE3NTU1NDc0MzF9.uesrq1jvk5cCy5pI72ESnNvgX0G0Vfg5O6S4eTYabig" http://localhost:3000/api/users

cd /home/soma/workspace/express-tuto/config && docker compose up lh_react_swagger-ui lh_react_swagger-merger

npm install -g jsdoc

### 1\. プロジェクトの初期化と基本パッケージのインストール

`express` と開発用の `nodemon` をインストールします。

```sh
# npmでプロジェクトを初期化（-yは全てyesで答えるオプション）
npm init -y

# Expressをインストール
npm install express

# 開発用のパッケージ（nodemon）をインストール
npm install nodemon --save-dev
```

---

### 2\. TypeScript のインストールと設定

TypeScript 本体、型定義ファイル、そして開発時に TypeScript を直接実行するための `ts-node` をインストールします。

```sh
# TypeScript、型定義、ts-nodeをインストール
npm install typescript @types/node @types/express ts-node --save-dev

# tsconfig.jsonファイルを生成
npx tsc --init
```

---

### 3\. `package.json` のスクリプト設定

`package.json` の `scripts` セクションに、開発用と本番用のコマンドを設定します。

```json
// package.json

"scripts": {
  "build": "tsc",
  "start": "node dist/index.js",
  "dev": "nodemon --exec ts-node index.ts"
},
```

この設定では、`index.ts`がプロジェクトのルートディレクトリにあることを前提としています。

---

### 4\. `index.ts` ファイルの作成

プロジェクトのルートディレクトリに直接 `index.ts` ファイルを作成し、Express のコードを記述します。

これで、**`npm run dev`** コマンドで開発サーバーを起動できるようになります。


### ログアウト
curl -X POST -H "Authorization: Bearer [ここに取得したトークンを貼り付け]" http://localhost:3000/auth/logout

### 認証エンドポイント

#### サインイン (ユーザー)
```bash
curl -X POST -H "Content-Type: application/json" -d '{"email": "user@example.com", "password": "password"}' http://localhost:3000/auth/signin
```

#### サインイン (管理者)
```bash
curl -X POST -H "Content-Type: application/json" -d '{"email": "admin@example.com", "password": "AdminPass123"}' http://localhost:3000/auth/admin/signin
```

#### ログアウト
```bash
curl -X POST -H "Authorization: Bearer [ここに取得したトークンを貼り付け]" http://localhost:3000/auth/logout
```