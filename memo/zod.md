# zod

- route でミドルウェアとして手前でチェック及びスローさせる。
- 手前でバリデーションで早期にエラーを返す。
- セキュリティーでもある
- XSS 対策

### DoS 攻撃の軽減

- 想定外に巨大な配列や文字列を送り込む攻撃があります。
- Zod の maxLength, array().max() などで制約を加えれば、リソースを過剰に消費させる攻撃をある程度防げます。

### エラーハンドリングの一元化

- バリデーションエラーを「400 Bad Request」などで統一的に返せる。
- エラーメッセージを意図的に制御できるので、内部実装を漏らさない（情報漏洩防止）。

### 型安全との統合

- TypeScript と併用すると、バリデーションスキーマから型を自動生成できます。
- フロントとバックで「型の齟齬によるセキュリティホール（例：本来 boolean のフラグを文字列で受けて想定外の挙動）」を防げる。
